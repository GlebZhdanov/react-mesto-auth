{"ast":null,"code":"export class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked === true) {\n      return fetch(`${this._url}/cards/likes/${id}`, {\n        method: 'PUT',\n        headers: this._headers\n      }).then(res => {\n        return this._chekRes(res);\n      });\n    } else {\n      return fetch(`${this._url}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: this._headers\n      }).then(res => {\n        return this._chekRes(res);\n      });\n    }\n  }\n\n  _chekRes(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(console.log(`Ошибка: ${res.status}`));\n  }\n\n  getAllCards() {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(res => {\n      return this._chekRes(res);\n    });\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(res => {\n      return this._chekRes(res);\n    });\n  }\n\n  patchUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(res => {\n      return this._chekRes(res);\n    });\n  }\n\n  uploadAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(res => {\n      return this._chekRes(res);\n    });\n  }\n\n  postNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(res => {\n      return this._chekRes(res);\n    });\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => {\n      return this._chekRes(res);\n    });\n  }\n\n}\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-30',\n  headers: {\n    authorization: 'b725fbaf-4205-4fab-8325-c71ecb1c6595',\n    'Content-Type': 'application/json'\n  }\n});\nexport { api };","map":{"version":3,"sources":["/Users/glebzdanov/Desktop/ПР 10 React/mesto-react/src/utils/Api.js"],"names":["Api","constructor","config","_url","url","_headers","headers","changeLikeCardStatus","id","isLiked","fetch","method","then","res","_chekRes","ok","json","Promise","reject","console","log","status","getAllCards","getUserInfo","patchUserInfo","data","body","JSON","stringify","uploadAvatar","postNewCard","deleteCard","api","authorization"],"mappings":"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","sourcesContent":["export class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if(isLiked === true) {\n      return fetch(`${this._url}/cards/likes/${id}`, {\n        method: 'PUT',\n        headers: this._headers,\n      })\n        .then((res) => {\n          return this._chekRes(res)\n        });\n    } else {\n      return fetch(`${this._url}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: this._headers,\n      })\n        .then((res) => {\n          return this._chekRes(res)\n        });\n    }\n  }\n\n  _chekRes(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(console.log(`Ошибка: ${res.status}`))\n  }\n\n  getAllCards() {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: this._headers\n    })\n    .then(res => {\n      return this._chekRes(res)\n    })\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: this._headers\n    })\n      .then((res) => {\n        return this._chekRes(res)\n      })\n  }\n\n  patchUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then((res) => {\n        return this._chekRes(res)\n      })\n  }\n\n  uploadAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then((res) => {\n        return this._chekRes(res)\n      })\n  }\n\n  postNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then((res) => {\n        return this._chekRes(res)\n      })\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then((res) => {\n        return this._chekRes(res)\n      })\n  }\n  }\n\n  const api = new Api({\n    url: 'https://mesto.nomoreparties.co/v1/cohort-30',\n    headers: {\n      authorization: 'b725fbaf-4205-4fab-8325-c71ecb1c6595',\n      'Content-Type' : 'application/json'\n    }\n  })\n\n  export {api}\n"]},"metadata":{},"sourceType":"module"}